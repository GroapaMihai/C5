<div ng-include="'views/coordinatorMenu.html'"></div>

<div class="row">
    <div class="col-lg-6">
        <div class="form-group">
            <label for="status">Status:</label>
            <select id="status" name="status" class="form-control" ng-model="selectedStatusName" ng-change="updateDeliveryList()">
                <option value="All">All</option>
                <option value="{{status.name}}" ng-repeat="status in statuses">
                    {{status.name}}
                </option>
            </select>
        </div>
    </div>
</div>

<table class="table table-striped table-bordered">
    <tr>
        <th class="text-center">Id</th>
        <th class="text-center">Starting Address</th>
        <th class="text-center">Destination Address</th>
        <th class="text-center">Cargo</th>
        <th class="text-center">Cargo Weight (tons)</th>
        <th class="text-center">Company Reward (euro)</th>
        <th class="text-center">Driver Reward (euro)</th>
        <th class="text-center">Priority</th>
        <th class="text-center">Status</th>
        <th class="text-center">Delivery Date</th>
        <th class="text-center">Action</th>
    </tr>
    <tr ng-repeat="delivery in deliveries">
        <td class="text-center">
            {{delivery.id}}
        </td>
        <td class="text-center">
            [{{delivery.startingAddress.country.name}}] {{delivery.startingAddress.city}}
        </td>
        <td class="text-center">
            [{{delivery.destinationAddress.country.name}}] {{delivery.destinationAddress.city}}
        </td>
        <td class="text-center">
            {{delivery.cargo}}
        </td>
        <td class="text-center">
            {{delivery.cargoWeight}}
        </td>
        <td class="text-center">
            {{delivery.companyReward}}
        </td>
        <td class="text-center">
            {{delivery.driverReward}}
        </td>
        <td class="text-center">
            {{delivery.priority.name}}
        </td>
        <td class="text-center">
            {{delivery.status.name}}
        </td>
        <td class="text-center">
            {{(delivery.deliveryDate | date: 'dd-MM-yyyy') || "N/A"}}
        </td>
        <td class="text-center">
            <button type="button" class="btn btn-info" ng-click="view(delivery.id)">View</button>
        </td>
    </tr>
</table>
