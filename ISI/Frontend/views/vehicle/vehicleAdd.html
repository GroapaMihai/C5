<div ng-include="'views/coordinatorMenu.html'"></div>

<div class="panel panel-default">
    <div class="panel-heading">
        <h2 class="panel-title">Add vehicle</h2>
    </div>
    <div class="panel-body">
        <ng-form name="vehicleAddForm">
            <div class="row">
                <div class="col-lg-6">
                    <div class="form-group" ng-class="{ 'has-error': vehicleAddForm.registrationNumber.$invalid }">
                        <label for="registrationNumber">Registration Number:</label>
                        <input type="text" id="registrationNumber" name="registrationNumber" class="form-control" ng-model="vehicle.registrationNumber" required/>
                        <span class="help-block" ng-show="vehicleAddForm.registrationNumber.$error.required
                             && vehicleAddForm.registrationNumber.$dirty">{{requiredErrorMessage}}
                        </span>
                    </div>
                </div>
                <div class="col-lg-6">
                    <div class="form-group" ng-class="{ 'has-error': vehicleAddForm.firstRegistrationDate.$invalid }">
                        <label for="firstRegistrationDate">First Registration Date:</label>
                        <input type="date" id="firstRegistrationDate" name="firstRegistrationDate" class="form-control" ng-model="vehicle.firstRegistrationDate" required/>
                        <span class="help-block" ng-show="vehicleAddForm.firstRegistrationDate.$error.required
                             && vehicleAddForm.firstRegistrationDate.$dirty">{{requiredErrorMessage}}
                        </span>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-6">
                    <div class="form-group" ng-class="{ 'has-error': vehicleAddForm.brand.$invalid }">
                        <label for="brand">Brand:</label>
                        <input type="text" id="brand" name="brand" class="form-control" ng-model="vehicle.brand" required/>
                        <span class="help-block" ng-show="vehicleAddForm.brand.$error.required
                             && vehicleAddForm.brand.$dirty">{{requiredErrorMessage}}
                        </span>
                    </div>
                </div>
                <div class="col-lg-6">
                    <div class="form-group" ng-class="{ 'has-error': vehicleAddForm.model.$invalid }">
                        <label for="model">Model:</label>
                        <input type="text" id="model" name="model" class="form-control" ng-model="vehicle.model" required/>
                        <span class="help-block" ng-show="vehicleAddForm.model.$error.required
                             && vehicleAddForm.model.$dirty">{{requiredErrorMessage}}
                        </span>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-6">
                    <div class="form-group" ng-class="{ 'has-error': vehicleAddForm.travelledDistance.$invalid }">
                        <label for="travelledDistance">Travelled distance:</label>
                        <input type="number" id="travelledDistance" name="travelledDistance" class="form-control" ng-model="vehicle.travelledDistance"/>
                        <span class="help-block" ng-show="vehicleAddForm.travelledDistance.$error.required
                             && vehicleAddForm.travelledDistance.$dirty">{{requiredErrorMessage}}
                        </span>
                    </div>
                </div>
                <div class="col-lg-6">
                    <div class="form-group" ng-class="{ 'has-error': vehicleAddForm.currentValue.$invalid }">
                        <label for="currentValue">Current value:</label>
                        <input type="number" id="currentValue" name="currentValue" class="form-control" ng-model="vehicle.currentValue"/>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-12">
                    <div class="form-group" ng-class="{ 'has-error': vehicleAddForm.color.$invalid }">
                        <label for="color">Color:</label>
                        <select id="color" name="color" class="form-control" ng-model="selectedColorId" ng-change="updateVehicleColor()">
                            <option value="0">--- Select a color ---</option>
                            <option value="{{color.id}}" style="background-color:{{color.hex}}" ng-repeat="color in colors">
                                {{color.name}}
                            </option>
                        </select>
                        <span class="help-block" ng-show="vehicleAddForm.color.$error.required
                             && vehicleAddForm.color.$dirty">{{requiredErrorMessage}}
                        </span>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-12">
                    <div class="form-group text-center">
                        <a class="btn btn-primary" role="button" ng-click="save(vehicle)" data-ng-disabled="vehicleAddForm.$invalid">Save</a>
                        <a class="btn btn-danger" role="button" ng-click="reset()">Reset</a>
                    </div>
                </div>
            </div>
        </ng-form>
    </div>
</div>